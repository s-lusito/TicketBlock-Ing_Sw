sequenceDiagram
    participant Client
    participant PublicEventController
    participant TicketService
    participant TicketRepository
    participant Database

    Client->>+PublicEventController: GET /api/v1/events/{id}/tickets?ticketStatus=AVAILABLE
    PublicEventController->>+TicketService: getTicketsFromEvent(eventId, ticketStatus)
    TicketService->>+TicketRepository: findByEventIdAndOptionalTicketStatus(eventId, ticketStatus)
    TicketRepository->>+Database: SELECT * FROM tickets WHERE event_id = ? AND (? IS NULL OR status = ?)
    Database-->>-TicketRepository: List<Ticket>
    TicketRepository-->>-TicketService: List<Ticket>
    
    alt tickets found
        TicketService-->>-PublicEventController: List<TicketDto>
        PublicEventController-->>-Client: 200 OK<br/>List<TicketDto>
    else no tickets found
        TicketService-->>PublicEventController: List<TicketDto> (empty)
        PublicEventController-->>Client: 200 OK<br/>[]
    end
